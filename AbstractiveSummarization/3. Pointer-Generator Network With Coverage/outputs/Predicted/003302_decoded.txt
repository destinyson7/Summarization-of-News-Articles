real madrid closed the gap on barcelona to just two points at the top of la liga .
los blancos stars were substituted as carlo ancelotti 's side struggled to overcome a spirited malaga .
cristiano ronaldo missed a penalty but provided goals for sergio ramos and james rodriguez , before adding the third himself , as madrid kept within touching distance of league leaders barcelona .